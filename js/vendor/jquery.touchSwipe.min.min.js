!function(n){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],n):n(jQuery)}(function(n){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=c),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=n.extend({},n.fn.swipe.defaults,e),this.each(function(){var r=n(this),i=r.data(D);i||(i=new t(this,e),r.data(D,i))})}function t(e,t){function P(e){if(!(sn()||n(e.target).closest(t.excludedElements,qn).length>0)){var r,i=e.originalEvent?e.originalEvent:e,l=i.touches,o=l?l[0]:i;return Vn=E,(l?Wn=l.length:!1!==t.preventDefaultEvents&&e.preventDefault(),Nn=0,jn=null,Xn=null,Hn=0,_n=0,Qn=0,Cn=1,Fn=0,Yn=vn(),an(),fn(0,o),!l||Wn===t.fingers||t.fingers===T||Y()?(Gn=Mn(),2==Wn&&(fn(1,l[1]),_n=Qn=En(zn[0].start,zn[1].start)),(t.swipeStatus||t.pinchStatus)&&(r=N(i,Vn))):r=!1,!1===r)?(Vn=m,N(i,Vn),r):(t.hold&&(ne=setTimeout(n.proxy(function(){qn.trigger("hold",[i.target]),t.hold&&(r=t.hold.call(qn,i,i.target))},this),t.longTapThreshold)),pn(!0),null)}}function L(n){var e=n.originalEvent?n.originalEvent:n;if(Vn!==y&&Vn!==m&&!cn()){var r,i=e.touches,l=i?i[0]:e,o=hn(l);if(Zn=Mn(),i&&(Wn=i.length),t.hold&&clearTimeout(ne),Vn=S,2==Wn&&(0==_n?(fn(1,i[1]),_n=Qn=En(zn[0].start,zn[1].start)):(hn(i[1]),Qn=En(zn[0].end,zn[1].end),Xn=yn(zn[0].end,zn[1].end)),Cn=Sn(_n,Qn),Fn=Math.abs(_n-Qn)),Wn===t.fingers||t.fingers===T||!i||Y()){if(jn=xn(o.start,o.end),F(n,jn),Nn=mn(o.start,o.end),Hn=bn(),gn(jn,Nn),(t.swipeStatus||t.pinchStatus)&&(r=N(e,Vn)),!t.triggerOnTouchEnd||t.triggerOnTouchLeave){var u=!0;if(t.triggerOnTouchLeave){var a=Dn(this);u=Pn(o.end,a)}!t.triggerOnTouchEnd&&u?Vn=U(S):t.triggerOnTouchLeave&&!u&&(Vn=U(y)),Vn!=m&&Vn!=y||N(e,Vn)}}else Vn=m,N(e,Vn);!1===r&&(Vn=m,N(e,Vn))}}function R(n){var e=n.originalEvent?n.originalEvent:n,r=e.touches;if(r){if(r.length&&!cn())return un(),!0;if(r.length&&cn())return!0}return cn()&&(Wn=Jn),Zn=Mn(),Hn=bn(),_()||!H()?(Vn=m,N(e,Vn)):t.triggerOnTouchEnd||0==t.triggerOnTouchEnd&&Vn===S?(!1!==t.preventDefaultEvents&&n.preventDefault(),Vn=y,N(e,Vn)):!t.triggerOnTouchEnd&&B()?(Vn=y,j(e,Vn,h)):Vn===S&&(Vn=m,N(e,Vn)),pn(!1),null}function k(){Wn=0,Zn=0,Gn=0,_n=0,Qn=0,Cn=1,an(),pn(!1)}function A(n){var e=n.originalEvent?n.originalEvent:n;t.triggerOnTouchLeave&&(Vn=U(y),N(e,Vn))}function I(){qn.unbind(Rn,P),qn.unbind(Un,k),qn.unbind(kn,L),qn.unbind(An,R),In&&qn.unbind(In,A),pn(!1)}function U(n){var e=n,r=C(),i=H(),l=_();return!r||l?e=m:!i||n!=S||t.triggerOnTouchEnd&&!t.triggerOnTouchLeave?!i&&n==y&&t.triggerOnTouchLeave&&(e=m):e=y,e}function N(n,e){var t,r=n.touches;return z()&&W()||q()&&Y()?(z()&&W()&&(t=j(n,e,p)),q()&&Y()&&!1!==t&&(t=j(n,e,f))):ln()&&!1!==t?t=j(n,e,d):on()&&!1!==t?t=j(n,e,g):rn()&&!1!==t&&(t=j(n,e,h)),e===m&&(W()&&(t=j(n,e,p)),Y()&&(t=j(n,e,f)),k(n)),e===y&&(r?r.length||k(n):k(n)),t}function j(e,c,s){var w;if(s==p){if(qn.trigger("swipeStatus",[c,jn||null,Nn||0,Hn||0,Wn,zn]),t.swipeStatus&&!1===(w=t.swipeStatus.call(qn,e,c,jn||null,Nn||0,Hn||0,Wn,zn)))return!1;if(c==y&&V()){if(qn.trigger("swipe",[jn,Nn,Hn,Wn,zn]),t.swipe&&!1===(w=t.swipe.call(qn,e,jn,Nn,Hn,Wn,zn)))return!1;switch(jn){case r:qn.trigger("swipeLeft",[jn,Nn,Hn,Wn,zn]),t.swipeLeft&&(w=t.swipeLeft.call(qn,e,jn,Nn,Hn,Wn,zn));break;case i:qn.trigger("swipeRight",[jn,Nn,Hn,Wn,zn]),t.swipeRight&&(w=t.swipeRight.call(qn,e,jn,Nn,Hn,Wn,zn));break;case l:qn.trigger("swipeUp",[jn,Nn,Hn,Wn,zn]),t.swipeUp&&(w=t.swipeUp.call(qn,e,jn,Nn,Hn,Wn,zn));break;case o:qn.trigger("swipeDown",[jn,Nn,Hn,Wn,zn]),t.swipeDown&&(w=t.swipeDown.call(qn,e,jn,Nn,Hn,Wn,zn))}}}if(s==f){if(qn.trigger("pinchStatus",[c,Xn||null,Fn||0,Hn||0,Wn,Cn,zn]),t.pinchStatus&&!1===(w=t.pinchStatus.call(qn,e,c,Xn||null,Fn||0,Hn||0,Wn,Cn,zn)))return!1;if(c==y&&X())switch(Xn){case u:qn.trigger("pinchIn",[Xn||null,Fn||0,Hn||0,Wn,Cn,zn]),t.pinchIn&&(w=t.pinchIn.call(qn,e,Xn||null,Fn||0,Hn||0,Wn,Cn,zn));break;case a:qn.trigger("pinchOut",[Xn||null,Fn||0,Hn||0,Wn,Cn,zn]),t.pinchOut&&(w=t.pinchOut.call(qn,e,Xn||null,Fn||0,Hn||0,Wn,Cn,zn))}}return s==h?c!==m&&c!==y||(clearTimeout($n),clearTimeout(ne),J()&&!nn()?(Kn=Mn(),$n=setTimeout(n.proxy(function(){Kn=null,qn.trigger("tap",[e.target]),t.tap&&(w=t.tap.call(qn,e,e.target))},this),t.doubleTapThreshold)):(Kn=null,qn.trigger("tap",[e.target]),t.tap&&(w=t.tap.call(qn,e,e.target)))):s==d?c!==m&&c!==y||(clearTimeout($n),Kn=null,qn.trigger("doubletap",[e.target]),t.doubleTap&&(w=t.doubleTap.call(qn,e,e.target))):s==g&&(c!==m&&c!==y||(clearTimeout($n),Kn=null,qn.trigger("longtap",[e.target]),t.longTap&&(w=t.longTap.call(qn,e,e.target)))),w}function H(){var n=!0;return null!==t.threshold&&(n=Nn>=t.threshold),n}function _(){var n=!1;return null!==t.cancelThreshold&&null!==jn&&(n=wn(jn)-Nn>=t.cancelThreshold),n}function Q(){return null===t.pinchThreshold||Fn>=t.pinchThreshold}function C(){return!t.maxTimeThreshold||!(Hn>=t.maxTimeThreshold)}function F(n,e){if(!1!==t.preventDefaultEvents)if(t.allowPageScroll===c)n.preventDefault();else{var u=t.allowPageScroll===s;switch(e){case r:(t.swipeLeft&&u||!u&&t.allowPageScroll!=w)&&n.preventDefault();break;case i:(t.swipeRight&&u||!u&&t.allowPageScroll!=w)&&n.preventDefault();break;case l:(t.swipeUp&&u||!u&&t.allowPageScroll!=v)&&n.preventDefault();break;case o:(t.swipeDown&&u||!u&&t.allowPageScroll!=v)&&n.preventDefault()}}}function X(){var n=G(),e=Z(),t=Q();return n&&e&&t}function Y(){return!!(t.pinchStatus||t.pinchIn||t.pinchOut)}function q(){return!(!X()||!Y())}function V(){var n=C(),e=H(),t=G(),r=Z();return!_()&&r&&t&&e&&n}function W(){return!!(t.swipe||t.swipeStatus||t.swipeLeft||t.swipeRight||t.swipeUp||t.swipeDown)}function z(){return!(!V()||!W())}function G(){return Wn===t.fingers||t.fingers===T||!O}function Z(){return 0!==zn[0].end.x}function B(){return!!t.tap}function J(){return!!t.doubleTap}function K(){return!!t.longTap}function $(){if(null==Kn)return!1;var n=Mn();return J()&&n-Kn<=t.doubleTapThreshold}function nn(){return $()}function en(){return(1===Wn||!O)&&(isNaN(Nn)||Nn<t.threshold)}function tn(){return Hn>t.longTapThreshold&&Nn<b}function rn(){return!(!en()||!B())}function ln(){return!(!$()||!J())}function on(){return!(!tn()||!K())}function un(){Bn=Mn(),Jn=event.touches.length+1}function an(){Bn=0,Jn=0}function cn(){var n=!1;if(Bn){Mn()-Bn<=t.fingerReleaseThreshold&&(n=!0)}return n}function sn(){return!(!0!==qn.data(D+"_intouch"))}function pn(n){!0===n?(qn.bind(kn,L),qn.bind(An,R),In&&qn.bind(In,A)):(qn.unbind(kn,L,!1),qn.unbind(An,R,!1),In&&qn.unbind(In,A,!1)),qn.data(D+"_intouch",!0===n)}function fn(n,e){var t={start:{x:0,y:0},end:{x:0,y:0}};return t.start.x=t.end.x=e.pageX||e.clientX,t.start.y=t.end.y=e.pageY||e.clientY,zn[n]=t,t}function hn(n){var e=void 0!==n.identifier?n.identifier:0,t=dn(e);return null===t&&(t=fn(e,n)),t.end.x=n.pageX||n.clientX,t.end.y=n.pageY||n.clientY,t}function dn(n){return zn[n]||null}function gn(n,e){e=Math.max(e,wn(n)),Yn[n].distance=e}function wn(n){if(Yn[n])return Yn[n].distance}function vn(){var n={};return n[r]=Tn(r),n[i]=Tn(i),n[l]=Tn(l),n[o]=Tn(o),n}function Tn(n){return{direction:n,distance:0}}function bn(){return Zn-Gn}function En(n,e){var t=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y);return Math.round(Math.sqrt(t*t+r*r))}function Sn(n,e){return(e/n*1).toFixed(2)}function yn(){return Cn<1?a:u}function mn(n,e){return Math.round(Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)))}function On(n,e){var t=n.x-e.x,r=e.y-n.y,i=Math.atan2(r,t),l=Math.round(180*i/Math.PI);return l<0&&(l=360-Math.abs(l)),l}function xn(n,e){var t=On(n,e);return t<=45&&t>=0?r:t<=360&&t>=315?r:t>=135&&t<=225?i:t>45&&t<135?o:l}function Mn(){return(new Date).getTime()}function Dn(e){e=n(e);var t=e.offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function Pn(n,e){return n.x>e.left&&n.x<e.right&&n.y>e.top&&n.y<e.bottom}var t=n.extend({},t),Ln=O||M||!t.fallbackToMouseEvents,Rn=Ln?M?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",kn=Ln?M?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",An=Ln?M?x?"MSPointerUp":"pointerup":"touchend":"mouseup",In=Ln?null:"mouseleave",Un=M?x?"MSPointerCancel":"pointercancel":"touchcancel",Nn=0,jn=null,Hn=0,_n=0,Qn=0,Cn=1,Fn=0,Xn=0,Yn=null,qn=n(e),Vn="start",Wn=0,zn={},Gn=0,Zn=0,Bn=0,Jn=0,Kn=0,$n=null,ne=null;try{qn.bind(Rn,P),qn.bind(Un,k)}catch(e){n.error("events not supported "+Rn+","+Un+" on jQuery.swipe")}this.enable=function(){return qn.bind(Rn,P),qn.bind(Un,k),qn},this.disable=function(){return I(),qn},this.destroy=function(){I(),qn.data(D,null),qn=null},this.option=function(e,r){if("object"==typeof e)t=n.extend(t,e);else if(void 0!==t[e]){if(void 0===r)return t[e];t[e]=r}else{if(!e)return t;n.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var r="left",i="right",l="up",o="down",u="in",a="out",c="none",s="auto",p="swipe",f="pinch",h="tap",d="doubletap",g="longtap",w="horizontal",v="vertical",T="all",b=10,E="start",S="move",y="end",m="cancel",O="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,M=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,D="TouchSwipe",P={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};n.fn.swipe=function(t){var r=n(this),i=r.data(D);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));n.error("Method "+t+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof t)i.option.apply(this,arguments);else if(!(i||"object"!=typeof t&&t))return e.apply(this,arguments);return r},n.fn.swipe.version="1.6.12",n.fn.swipe.defaults=P,n.fn.swipe.phases={PHASE_START:E,PHASE_MOVE:S,PHASE_END:y,PHASE_CANCEL:m},n.fn.swipe.directions={LEFT:r,RIGHT:i,UP:l,DOWN:o,IN:u,OUT:a},n.fn.swipe.pageScroll={NONE:c,HORIZONTAL:w,VERTICAL:v,AUTO:s},n.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:T}});